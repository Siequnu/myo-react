(this["webpackJsonpmyo-react"]=this["webpackJsonpmyo-react"]||[]).push([[0],{150:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},210:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(15),c=a.n(r),s=(a(150),a(19)),o=a(13),l=a(22),u=a(58),d=a(133),j=a(29),b=a.n(j),h=a(44),m=a(298);function p(){var e=g.currentUserValue;return e&&e.access_token?{Authorization:"Bearer ".concat(e.access_token)}:{}}function v(){var e=g.currentUserValue;return e&&e.access_token?e.access_token:{}}function O(){var e=g.currentUserValue;return!(!e||!e.refresh_token)&&e.refresh_token}function x(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){-1!==[401,403].indexOf(e.status)&&g.logout();var n=a&&a.message||e.statusText;return Promise.reject(n)}return a}))}var f={authLogin:"/auth/login",authRefresh:"/auth/refresh",afterLogout:"/",resetWithToken:"/auth/reset/token",authSignUp:"/auth/register",authValidate:"/auth/validate",confirmEmail:"/auth/confirm"},y=new m.a(JSON.parse(localStorage.getItem("currentUser"))),g={login:function(e,t){return w.apply(this,arguments)},logout:function(){localStorage.removeItem("currentUser"),y.next(null)},signUp:function(e,t,a){return k.apply(this,arguments)},updateUser:function(e){localStorage.setItem("currentUser",JSON.stringify(e)),y.next(e)},validateRegistration:function(e,t){return S.apply(this,arguments)},confirmEmail:function(e){return N.apply(this,arguments)},currentUser:y.asObservable(),get currentUserValue(){return y.value}};function w(){return(w=Object(h.a)(b.a.mark((function e(t,a){var n,i,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:a})},e.next=3,fetch(f.authLogin,n);case 3:return i=e.sent,e.next=6,x(i);case 6:return r=e.sent,localStorage.setItem("currentUser",JSON.stringify(r)),y.next(r),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(h.a)(b.a.mark((function e(t,a,n){var i,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n,email:a})},e.next=3,fetch(f.authSignUp,i);case 3:return r=e.sent,e.next=6,x(r);case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(h.a)(b.a.mark((function e(t,a){var n,i,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,email:a})},e.next=3,fetch(f.authValidate,n);case 3:return i=e.sent,e.next=6,x(i);case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(h.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})},e.next=3,fetch(f.confirmEmail,a);case 3:return n=e.sent,e.next=6,x(n);case 6:if(!e.sent.hasOwnProperty("success")){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=a(63),I=a.n(C);function T(){return(T=Object(h.a)(b.a.mark((function e(t,a){var n,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post(t,a,{headers:p()});case 3:return n=e.sent,i=n.data,e.abrupt("return",i);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var _=a(2),A=function(e){var t=e.component,a=Object(d.a)(e,["component"]);return Object(_.jsx)(l.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return g.currentUserValue?Object(_.jsx)(t,Object(u.a)({},e)):Object(_.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},U=(a(91),a(48)),P=a(297),W=a(271);var H=Object(l.h)((function(e){var t=i.a.useContext(Tt).setSnackbar;g.currentUserValue&&e.history.push("/");var a=Object(U.a)({initialValues:{username:"",password:""},onSubmit:function(a){g.login(a.username,a.password).then((function(n){var i=(e.location.state||{from:{pathname:"/"}}).from;e.history.push(i),t({text:"Welcome, ".concat(a.username),open:!0,severity:"success"})}))}});return Object(_.jsx)("div",{className:"AuthForm",children:Object(_.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(_.jsx)(P.a,{fullWidth:!0,id:"username",name:"username",label:"Username",value:a.values.username,onChange:a.handleChange,error:a.touched.username&&Boolean(a.errors.username)}),Object(_.jsx)(P.a,{fullWidth:!0,id:"password",name:"password",label:"Password",type:"password",value:a.values.password,onChange:a.handleChange,error:a.touched.password&&Boolean(a.errors.password),helperText:a.touched.password&&a.errors.password}),Object(_.jsx)(W.a,{className:"SubmitButton",color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Submit"}),Object(_.jsx)(W.a,{component:o.b,to:"/reset",className:"ResetPasswordButton",children:"Forgot password"}),Object(_.jsx)(W.a,{component:o.b,to:"/register",children:"New account"})]})})}));var B=Object(l.h)((function(e){var t=i.a.useContext(Tt).setSnackbar,a=Object(l.g)().token,n=Object(U.a)({initialValues:{password:""},onSubmit:function(n){n.token=a,fetch(f.resetWithToken,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){if(a.hasOwnProperty("error"))throw a.error;t({text:a.success,open:!0,severity:"success"}),e.history.push("/login")})).catch((function(e){t({text:e,open:!0,severity:"error"})}))}});return Object(_.jsx)("div",{className:"AuthForm",children:Object(_.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(_.jsx)(P.a,{fullWidth:!0,id:"password",name:"password",label:"New password",type:"password",value:n.values.password,onChange:n.handleChange,error:n.touched.password&&Boolean(n.errors.password),helperText:n.touched.password&&n.errors.password}),Object(_.jsx)(W.a,{variant:"contained",fullWidth:!0,type:"submit",children:"Set new password"})]})})}));var F=Object(l.h)((function(e){var t=i.a.useContext(Tt).setSnackbar,a=Object(U.a)({initialValues:{email:""},onSubmit:function(a){fetch("/auth/reset",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){if(a.hasOwnProperty("error"))throw a.error;t({text:a.success,open:!0,severity:"success"}),e.history.push("login")})).catch((function(e){t({text:e,open:!0,severity:"error"})}))}});return Object(_.jsx)("div",{className:"AuthForm",children:Object(_.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(_.jsx)(P.a,{fullWidth:!0,id:"email",name:"email",label:"Email",type:"email",value:a.values.email,onChange:a.handleChange,error:a.touched.email&&Boolean(a.errors.email),helperText:a.touched.email&&a.errors.email}),Object(_.jsx)(W.a,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Send password reset email"}),Object(_.jsx)(W.a,{component:o.b,to:"/login",children:"Back to Login"})]})})}));var M,L=Object(l.h)((function(e){var t=i.a.useContext(Tt).setSnackbar;g.currentUserValue&&e.history.push("/");var a=function(){var e=Object(h.a)(b.a.mark((function e(a,n){var i,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.validateRegistration(a.username,a.email);case 2:return i=e.sent,r={},["admin","null","god"].includes(a.username)&&(r.username="Please choose a different username"),i.username_exists&&(r.username="This username is already taken"),i.email_exists&&(r.email="This email is already registered"),Object.entries(r).map((function(e){return t({text:e.pop(),open:!0,severity:"warning"}),!0})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n=Object(U.a)({initialValues:{username:"",email:"",password:""},onSubmit:function(a){g.signUp(a.username,a.email,a.password).then((function(n){e.history.push("/login"),t({text:"An email has been sent to ".concat(a.email,". Please open it to continue."),open:!0,severity:"success"})}))},validate:a});return Object(_.jsx)("div",{className:"AuthForm",children:Object(_.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(_.jsx)(P.a,{fullWidth:!0,id:"username",name:"username",label:"Username",value:n.values.username,onChange:n.handleChange,error:n.touched.username&&Boolean(n.errors.username)}),Object(_.jsx)(P.a,{fullWidth:!0,id:"email",name:"email",label:"Email",value:n.values.email,onChange:n.handleChange,error:n.touched.email&&Boolean(n.errors.email)}),Object(_.jsx)(P.a,{fullWidth:!0,id:"password",name:"password",label:"Password",type:"password",value:n.values.password,onChange:n.handleChange,error:n.touched.password&&Boolean(n.errors.password),helperText:n.touched.password&&n.errors.password}),Object(_.jsx)(W.a,{className:"SubmitButton",color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Submit"}),Object(_.jsx)(W.a,{component:o.b,to:"/login",className:"ResetPasswordButton",children:"Back to log-in"})]})})})),V=a(30),E=a(25),R=a(26),z=a.n(R);var q=Object(l.h)((function(e){var t=i.a.useContext(Tt).setSnackbar,a=Object(l.g)().token;g.confirmEmail(a).then((function(a){t({text:a?"Your email has been confirmed. You can now log-in.":"We could not confirm your email.",open:!0,severity:a?"success":"error"}),e.history.push("/login")}));var n=Object(E.css)(M||(M=Object(V.a)(["display: block; margin: 0 auto;"])));return Object(_.jsx)(z.a,{color:"#F19820",loading:!0,css:n,size:100})})),D=a(49),J=(a(185),a(93),a(27)),Y=a(270),G=a(273),$=a(274),K=a(305),Q=a(275),X=a(302),Z=(a(186),a(120)),ee=a(272);var te,ae=Object(l.h)((function(e){var t=i.a.useState(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],c=i.a.useState(0),o=Object(s.a)(c,2),l=o[0],u=o[1],d=i.a.useState(""),j=Object(s.a)(d,2),b=j[0],h=j[1],m=["Myo is AI creativity in your pocket","Right now, we're analysing the experience of 35,892 users","To make sure your plan fits you perfectly","Your personalised creativity plan is almost ready. Are you?"];return i.a.useEffect((function(){var e=setInterval((function(){u((function(e){100===e&&r(!0);var t=6*Math.random(),a=Math.min(e+t,100);return a>95&&r(!0),h(function(e){var t=Math.floor(e*m.length/100);return m[t]}(a)),a}))}),500);return function(){clearInterval(e)}}),[]),n?Object(_.jsxs)("div",{children:[Object(_.jsx)("h2",{className:"animate__animated animate__backInDown",children:"Your custom training plan is ready"}),Object(_.jsx)(W.a,{style:{animation:"pulse 3s ease infinite"},className:"StartButton animate__animated animate__fadeIn animate__delay-1s",variant:"contained",size:"large",color:"primary",onClick:function(){return e.history.push("/spark")},children:"Let's go"})]}):Object(_.jsxs)("div",{children:[Object(_.jsx)("h3",{className:"animate__animated animate__backInDown animate__delay-1s",children:b}),Object(_.jsx)(ee.a,{className:"animate__animated animate__fadeIn",variant:"determinate",value:l}),Object(_.jsx)(Z.a,{className:"animate__animated animate__fadeIn goo",intensity:"strong",children:Object(_.jsxs)("svg",{width:"500",height:"500",children:[Object(_.jsx)("circle",{cx:"29%",cy:"50%",fill:"sandybrown",r:"49",style:{animation:"right 3s ease infinite"}}),Object(_.jsx)("circle",{cx:"44%",cy:"34%",fill:"palevioletred",r:"23",style:{animation:"left 7s linear infinite"}}),Object(_.jsx)("circle",{cx:"34%",cy:"74%",fill:"orchid",r:"59",style:{animation:"left 4s linear infinite"}}),Object(_.jsx)("circle",{cx:"56%",cy:"59%",fill:"mediumorchid",r:"46",style:{animation:"right 5s ease infinite"}})]})})]})})),ne=(a(187),a(121)),ie=a.n(ne);function re(e){return Object(_.jsx)("div",{className:"OnboardingHero",style:{backgroundImage:'url("/activities/20/Thumbnail.jpeg"'},children:Object(_.jsxs)("div",{className:"UserHeroContent",style:{background:"linear-gradient(90deg, rgba(241,152,32,1) 40%, rgba(255,255,255,0) 90%)"},children:[Object(_.jsx)("h2",{children:"Spark is a totally custom creativity journey, designed for you."}),Object(_.jsxs)("p",{children:[Object(_.jsx)(ie.a,{className:"Icon"})," To get started, we need to know a little bit more about you."]}),Object(_.jsx)(W.a,{className:"OnboardingHeroButton",onClick:e.onClick,children:"Next"})]})})}var ce=Object(l.h)((function(e){var t=i.a.useState(!0),a=Object(s.a)(t,2),n=a[0],r=a[1],c=i.a.useState(!1),o=Object(s.a)(c,2),l=o[0],u=o[1],d=i.a.useState(0),j=Object(s.a)(d,2),b=j[0],h=j[1],m=["About yourself","You and art","Final details"],p=[{question:"What kind of creative activity are you most interested in?",answers:["Drawing","Writing","Painting","Crafts","Photography"]},{question:"What would you like to use Myo for?",answers:["To relax","To learn new skills","To use my imagination","To better express myself","To discover new arts"]},{question:"What would you like Myo to offer?",answers:["Breadth of activities","In depth skill building","Global perspectives","Interaction with artists & users"]},{question:"What skills are you most interested in developing?",answers:["Imagination","Persistence","Discipline","Inquisitiveness","Collaboration"]},{question:"Generally, how often do you engage in creative activities?",answers:["Everyday","Two or three times a week","Once every now and again","Never!"]},{question:"How often would you like to engage in creative activities?",answers:["Everyday","Two or three times a week","Once every now and again","Never!"]},{question:"For how long?",answers:["No more than 5mins at a time","5mins to 10mins","10mins to 20mins","20mins to 40mins","Sky\u2019s the limit!"]},{question:"How \u2018experienced\u2019 do you think you are?",answers:["Complete beginner","Want to take it easy","I like a challenge!","Experience grrrr!!"]},{question:"What materials do you have access to?",answers:["Pens and paper only","Own some pencils","Watercolour paints","Acrylic paints","General arts & crafts stuff","Camera (phone will do)"],type:"multiple"}],v=i.a.useState(0),O=Object(s.a)(v,2),x=O[0],f=O[1],y=i.a.useState([]),g=Object(s.a)(y,2),w=g[0],k=g[1],S=i.a.useState([]),N=Object(s.a)(S,2),C=N[0],I=N[1];i.a.useEffect((function(){var e={questionIndex:x,question:p[x].question,answer:w};I([].concat(Object(D.a)(C),[e])),k([])}),[x]);var T=Object(E.css)(te||(te=Object(V.a)(["display: block; margin: 0 auto;"]))),A=Object(J.b)("/auth/onboarding").data;if(!A)return Object(_.jsx)(z.a,{color:"#F19820",loading:!0,css:T,size:100});A.hasOwnProperty("success")&&e.history.push("/");var U=function(){setTimeout((function(){if(x<p.length-1){var e=x+1,t=100*e/p.length,a=Math.ceil(t*["About yourself","You and art","Final details"].length/100);f(e),k([]),h(a)}else console.log(C),u(!0)}),500)};return n?Object(_.jsx)(re,{onClick:function(){return r(!1)}}):l?Object(_.jsx)(ae,{}):Object(_.jsxs)("div",{className:"UserOnboarding",children:[Object(_.jsx)(K.a,{activeStep:b,alternativeLabel:!0,style:{backgroundColor:"transparent"},children:m.map((function(e){return Object(_.jsx)(Q.a,{children:Object(_.jsx)(X.a,{children:e})},e)}))}),Object(_.jsx)("h2",{children:p[x].question}),function(e){if(e.hasOwnProperty("answers"))return Object(_.jsx)(Y.a,{component:"nav","aria-label":"Onboarding answers",children:p[x].answers.map((function(e,t){return Object(_.jsx)(G.a,{selected:w.includes(t),onClick:function(e){return a=t,k(Object(D.a)(w),a),void U();var a},button:!0,children:Object(_.jsx)($.a,{align:"center",primary:e})},t)}))})}(p[x])]})})),se=(a(189),a(190),a(131)),oe=a(294),le=a(295),ue=a(293),de=(a(191),a(276)),je=a(277),be=a(122),he=a.n(be),me=a(123),pe=a.n(me);function ve(){var e=i.a.useState(0),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(_.jsxs)(de.a,{value:a,onChange:function(e,t){n(t)},showLabels:!0,className:"navbar",children:[Object(_.jsx)(je.a,{component:o.b,to:"/",id:"HomeNavbarIcon",label:"Home",icon:Object(_.jsx)(he.a,{})}),Object(_.jsx)(je.a,{component:o.b,to:"/spark",id:"SparkNavbarIcon",label:"Spark",icon:Object(_.jsx)(pe.a,{})})]})}var Oe=a(82),xe=a(83),fe=a(86),ye=a(85),ge=a(278),we=(a(192),a(84)),ke=a.n(we),Se=function(e){Object(fe.a)(a,e);var t=Object(ye.a)(a);function a(){return Object(Oe.a)(this,a),t.apply(this,arguments)}return Object(xe.a)(a,[{key:"render",value:function(){return Object(_.jsxs)("div",{className:"TopBar",children:[Object(_.jsx)(ge.a,{component:o.b,to:"/",className:"AccountLink",children:Object(_.jsx)("img",{className:"MyoLogo",src:"/assets/logo.png",alt:"Myo app logo"})}),Object(_.jsx)("img",{className:"MyoText",src:"/assets/myo-text.png",alt:"Myo app logo"}),Object(_.jsx)(ge.a,{component:o.b,to:"/user",className:"AccountLink",children:Object(_.jsx)(ke.a,{fontSize:"large",className:"AccountCircle"})})]})}}]),a}(i.a.Component);a(193);function Ne(){return Object(_.jsx)("div",{className:"SplashScreen",children:Object(_.jsx)("div",{className:"SplashScreenWrapper",children:Object(_.jsxs)(n.Suspense,{children:[Object(_.jsx)("img",{src:"/assets/myo-text-icon.png",alt:"Myo icon"}),Object(_.jsx)("p",{className:"animate__animated animate__bounceIn",children:"Spark wonder"})]})})})}a(194),a(195);var Ce=a(124),Ie=a.n(Ce);var Te,_e,Ae=Object(l.h)((function(e){var t=i.a.useContext(Tt).setSnackbar;return Object(_.jsx)(W.a,{variant:"contained",onClick:function(){return t({text:"You have logged out.",open:!0,severity:"success"}),g.logout(),void e.history.push(f.afterLogout)},children:"Logout"})}));function Ue(e){var t=Object(J.b)("/auth/profile").data,a=Object(E.css)(Te||(Te=Object(V.a)(["display: block; margin: 0 auto;"])));if(!e.activities)return null;if(!t)return Object(_.jsx)(z.a,{color:"#F19820",loading:!0,css:a,size:100});var n=e.activities.pop(),i="/activities/".concat(n.activityId,"/").concat(n.thumbnail);return Object(_.jsx)("div",{className:"UserHero",style:{backgroundImage:'url("'.concat(i,'"')},children:Object(_.jsxs)("div",{className:"UserHeroContent",style:{background:"linear-gradient(90deg, rgba(241,152,32,1) 40%, rgba(255,255,255,0) 90%)"},children:[Object(_.jsx)(Ae,{className:"UserHeroLink"}),Object(_.jsx)("h1",{children:t.username}),Object(_.jsxs)("p",{children:[Object(_.jsx)(ke.a,{className:"Icon"})," Member since:"]}),Object(_.jsx)("p",{className:"caption",children:t.registered}),Object(_.jsxs)("p",{children:[Object(_.jsx)(Ie.a,{className:"Icon"})," Total activities:"]}),Object(_.jsx)("p",{className:"caption",children:"52"}),Object(_.jsx)("span",{className:"stamp is-nope",children:"Super member"})]})})}function Pe(){var e=Object(E.css)(_e||(_e=Object(V.a)(["display: block; margin: 0 auto;"]))),t=Object(J.b)("/activities/api/list").data;if(!t)return Object(_.jsx)(z.a,{color:"#F19820",loading:!0,css:e,size:100});var a=Object(D.a)(t.activities);return a.map((function(e,t){return a[t].activityId=t+1})),Object(_.jsx)("div",{className:"UserMenu",children:Object(_.jsx)(Ue,{activities:a})})}a(196),a(197);var We=a(125),He=a.n(We);var Be=function(e){return Object(_.jsx)("div",{className:"cardComponent",children:e.activities.map((function(e,t){return Object(_.jsxs)("div",{className:"card",children:[Object(_.jsx)("div",{className:"card-image",children:Object(_.jsx)("img",{src:"/activities/".concat(e.activityId,"/").concat(e.thumbnail),alt:"Header decoration"})}),Object(_.jsxs)("div",{className:"content",children:[Object(_.jsx)("h4",{children:e.title}),Object(_.jsx)("p",{children:e.description})]}),Object(_.jsx)(ge.a,{component:o.b,to:{pathname:"/activity/".concat(e.activityId)},className:"read-more",style:{textDecoration:"none"},children:Object(_.jsxs)("span",{children:["Start activity ",Object(_.jsx)(He.a,{className:"chevron-right"})]})})]},t)}))})},Fe=a(126),Me=(a(198),function(e){Object(fe.a)(a,e);var t=Object(ye.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleClose=function(){localStorage.setItem("onboardingComplete",!0),n.setState({isVisible:!1})},n.state={isVisible:null===localStorage.getItem("onboardingComplete")},n.story=[{component:"modal",intro:!0,children:Object(_.jsx)("p",{children:"Hey there! Welcome to Myo. As this is your first time, could we show you around?"}),className:"introModal"},{component:"speech-bubble",attachToId:"HomeNavbarIcon",children:Object(_.jsx)("p",{children:"This is the Home tab, where you can view all our activities, or you can click Spark, to start your custom creative journey."})},{component:"modal",intro:!1,children:Object(_.jsx)("p",{children:"The main feature of Myo is a custom curated journey of creativity exercises, that adapts and matches what you need."})},{component:"modal",intro:!1,children:Object(_.jsx)("p",{children:"We regularly add more exercises. Good luck with your creativity journey!"})}],n}return Object(xe.a)(a,[{key:"render",value:function(){return Object(_.jsx)(Fe.a,{story:this.story,isVisible:this.state.isVisible,onClose:this.handleClose})}}]),a}(i.a.Component));a(199);function Le(e){var t=e.activities.pop(),a="/activities/".concat(t.activityId,"/").concat(t.thumbnail),n="/activity/".concat(t.activityId);return Object(_.jsx)("div",{className:"Hero",style:{backgroundImage:'url("'.concat(a,'"')},children:Object(_.jsxs)("div",{className:"HeroContent",style:{background:"linear-gradient(90deg, rgba(241,152,32,1) 35%, rgba(255,255,255,0) 64%)"},children:[Object(_.jsx)("h1",{children:t.title}),Object(_.jsx)("p",{children:t.description}),Object(_.jsx)(ge.a,{component:o.b,to:{pathname:n,state:{activityId:t.activityId}},className:"HeroLink",style:{textDecoration:"none"},children:Object(_.jsx)("button",{className:"HeroButton",children:"Start now"})})]})})}a(200);var Ve,Ee=a(280),Re=a(281),ze=a(306),qe=a(282),De=a(279),Je=a(283),Ye=a(127),Ge=a.n(Ye);a(201);function $e(e){return Object(_.jsx)(De.a,{item:!0,children:Object(_.jsx)(Y.a,{dense:!1,children:e.activities.map((function(e,t){return Object(_.jsxs)(ge.a,{component:o.b,to:{pathname:"/activity/".concat(e.activityId)},style:{textDecoration:"none",color:"#333"},children:[Object(_.jsxs)(G.a,{className:"ListItem",children:[Object(_.jsx)(Ee.a,{children:Object(_.jsx)(ze.a,{children:Object(_.jsx)("img",{src:(a=e.thumbnail,n=e.activityId,"/activities/".concat(n,"/").concat(a)),alt:"Activity illustration"})})}),Object(_.jsx)($.a,{primary:e.title,secondary:e.description}),Object(_.jsx)(Re.a,{children:Object(_.jsx)(qe.a,{edge:"end",children:Object(_.jsx)(Ge.a,{})})})]}),Object(_.jsx)(Je.a,{variant:"inset",component:"li"})]},t);var a,n}))})})}function Ke(e){var t=Math.ceil(e.activities.length/2),a=e.activities.splice(0,t),n=e.activities.splice(-t);return Object(_.jsxs)("div",{className:"HeroList",children:[Object(_.jsx)("h1",{children:e.title}),Object(_.jsxs)("div",{className:"HeroListContent",children:[Object(_.jsx)($e,{className:"ActivityAvatarList",activities:a}),Object(_.jsx)($e,{className:"ActivityAvatarList",activities:n})]})]})}function Qe(){var e,t=Object(E.css)(Ve||(Ve=Object(V.a)(["display: block; margin: 0 auto;"]))),a=Object(J.b)("/activities/api/list").data;if(!a)return Object(_.jsx)(z.a,{color:"#F19820",loading:!0,css:t,size:100});var n=function(){(e=Object(D.a)(a.activities)).map((function(t,a){return e[a].activityId=a+1}))};n();var i=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.length<1&&n(),t||(t=e.length),Object(D.a)(Array(t)).map((function(){return e.splice(Math.floor(Math.random()*e.length),1)[0]}))};return Object(_.jsxs)("div",{className:"ViewActivitiesComponent",children:[Object(_.jsx)(Me,{}),Object(_.jsx)(Le,{activities:i(1)}),Object(_.jsx)(Ke,{activities:i(4),title:"Activities we love right now"}),Object(_.jsx)(Be,{activities:i(3)}),Object(_.jsx)(Le,{activities:i(1)}),Object(_.jsx)(Ke,{activities:i(4),title:"Trending this week"}),Object(_.jsx)(Be,{activities:i(6)}),Object(_.jsx)(Le,{activities:i(1)}),Object(_.jsx)(Be,{activities:i(3)})]})}a(202),a(203);function Xe(e){return Object(_.jsxs)("div",{className:"ActivityIntroduction",children:["mp4"===e.activity.thumbnail.split(".").pop()?Object(_.jsx)("video",{className:"ActivityVideo",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,controls:!0,children:Object(_.jsx)("source",{src:"/activities/".concat(e.activityId,"/").concat(e.activity.thumbnail),type:"video/mp4"})}):Object(_.jsx)("img",{src:"/activities/"+e.activityId+"/"+e.activity.thumbnail,alt:"Header decoration"}),Object(_.jsx)("h1",{children:e.activity.title}),Object(_.jsx)("p",{dangerouslySetInnerHTML:{__html:e.activity.description}}),Object(_.jsx)(W.a,{variant:"contained",color:"primary",onClick:e.handleStartActivity,children:"I'm ready"})]})}a(204);var Ze=a(299),et=a(292),tt=a(296),at=a(289),nt=a(290),it=a(291),rt=(a(205),a(206),a(207),a(208),a(285)),ct=a(304),st=a(288),ot=a(286),lt=a(287),ut=a(132),dt=(a(209),a(284)),jt=a(5),bt=a(307),ht=Object(dt.a)((function(e){return{root:{width:150+2*e.spacing(3)},margin:{height:e.spacing(3)}}})),mt="0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",pt=[{value:0,label:"\ud83d\ude1f"},{value:50,label:"\ud83d\ude0c"},{value:100,label:"\ud83e\uddd1\u200d\ud83c\udfa8"}],vt=Object(jt.a)({root:{color:"#F19820",height:2,padding:"15px 0"},thumb:{height:28,width:28,backgroundColor:"#fff",boxShadow:mt,marginTop:-14,marginLeft:-14,"&:focus, &:hover, &$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:mt}}},active:{},valueLabel:{left:"calc(-50% + 12px)",top:-22,"& *":{background:"transparent",color:"#000"}},track:{height:2},rail:{height:2,opacity:.5,backgroundColor:"#bfbfbf"},mark:{backgroundColor:"#bfbfbf",height:8,width:1,marginTop:-3},markActive:{opacity:1,backgroundColor:"#F19820"}})(bt.a);function Ot(){var e=ht();return Object(_.jsx)("div",{className:e.root,children:Object(_.jsx)(vt,{"aria-label":"ios slider",defaultValue:75,marks:pt,valueLabelDisplay:"off"})})}var xt;a(210);function ft(e){var t=i.a.useState(""),a=Object(s.a)(t,2),n=a[0],r=a[1];return Object(_.jsxs)(ct.a,{onClose:e.onClose,open:e.open,disableEnforceFocus:!0,children:[Object(_.jsx)(rt.a,{align:"center",id:"dialog-title",children:"Congratulations! \ud83c\udf89"}),Object(_.jsxs)(ot.a,{align:"center",className:"ReviewDialogContent",children:[Object(_.jsxs)(lt.a,{children:["How did you feel?",Object(_.jsx)(Ot,{})]}),Object(_.jsxs)(lt.a,{children:["How would you rate this activity?",Object(_.jsx)("br",{}),Object(_.jsx)(ut.a,{})]}),Object(_.jsx)(lt.a,{children:Object(_.jsx)(P.a,{fullWidth:!0,align:"center",id:"feedbackText",multiline:!0,name:"feedbackText",label:"Any notes to yourself?",value:n,onChange:function(e){return r(e.target.value)}})})]}),Object(_.jsxs)(st.a,{children:[Object(_.jsx)(ge.a,{component:o.b,to:{pathname:"/"},style:{textDecoration:"none"},children:Object(_.jsx)(W.a,{onClick:e.onClose,children:"Skip"})}),Object(_.jsx)(ge.a,{component:o.b,to:{pathname:"/"},style:{textDecoration:"none"},children:Object(_.jsx)(W.a,{variant:"contained",onClick:function(){e.onSubmit()},color:"primary",type:"submit",children:"Done"})})]})]})}function yt(e){var t=i.a.useState(!1),a=Object(s.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1];return Object(_.jsxs)("div",{className:"ActivityCarousel",children:[Object(_.jsx)(Ze.a,{spaceBetween:50,slidesPerView:1,navigation:!0,pagination:{clickable:!0,type:"progressbar"},onReachEnd:function(){return d(!0)},children:e.activity.pages.map((function(t,a){return Object(_.jsxs)(et.a,{children:["mp4"===t.thumbnail.split(".").pop()?Object(_.jsx)("video",{className:"ActivityVideo",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,controls:!0,children:Object(_.jsx)("source",{src:"/activities/".concat(e.activityId,"/").concat(t.thumbnail),type:"video/mp4"})}):Object(_.jsx)("img",{src:encodeURI("/activities/"+e.activityId+"/"+t.thumbnail),alt:"Header decoration"}),Object(_.jsxs)("div",{className:"text",children:[Object(_.jsx)("h1",{children:t.title}),Object(_.jsx)("p",{dangerouslySetInnerHTML:{__html:t.description}})]})]},a)}))}),u?Object(_.jsx)(W.a,{variant:"contained",onClick:function(){return c(!0)},color:"primary",children:"Finish"}):null,r?Object(_.jsx)(ft,{open:r,onSubmit:function(e){c(!1),function(e,t){T.apply(this,arguments)}("/api/orders/delete",{feedback:e})},onClose:function(){return c(!1)}}):null]})}function gt(){var e=Object(l.g)().activityId,t=Object(n.useState)(!0),a=Object(s.a)(t,2),i=a[0],r=a[1],c=Object(J.b)("/activities/api/get/".concat(e-1)).data,o=Object(E.css)(xt||(xt=Object(V.a)(["display: block; margin: 0 auto;"])));return c?Object(_.jsx)("div",{className:"Activity",children:i?Object(_.jsx)(Xe,{activityId:e,activity:c.activity,handleStartActivity:function(){return r(!1)}}):Object(_.jsx)(yt,{activityId:e,activity:c.activity})}):Object(_.jsx)(z.a,{color:"#F19820",loading:!0,css:o,size:100})}tt.a.use([at.a,nt.a,it.a]);var wt=a(130);a(211),a(212);function kt(e){var t=function(){return e.activityId+1},a="url('"+("/activities/"+t()+"/"+e.thumbnail)+"')";return Object(_.jsx)(ge.a,{component:o.b,to:{pathname:"/activity/"+t()},className:"ActivityBubble",style:{backgroundColor:e.backgroundColour+"d0",textDecoration:"none"},children:Object(_.jsxs)("div",{className:"ActivityDetails",style:{opacity:e.bubbleSize>50?1:0,transition:"opacity 0.1s ease"},children:[Object(_.jsx)("div",{className:"ActivityThumbnail",style:{backgroundImage:a}}),Object(_.jsx)("h1",{children:e.title})]})})}var St;a(213);var Nt=Object(l.h)((function(e){var t,a=Object(E.css)(St||(St=Object(V.a)(["display: block; margin: 0 auto;"])));return(t=Object(J.b)("/auth/onboarding").data)?(t.hasOwnProperty("error")&&e.history.push("/onboarding"),(t=Object(J.b)("/activities/api/list").data)?Object(_.jsx)("div",{className:"Spark",children:Object(_.jsx)(wt.a,{options:{size:165,minSize:20,gutter:10,provideProps:!0,numCols:5,fringeWidth:120,yRadius:200,xRadius:100,cornerRadius:20,showGuides:!1,compact:!0,gravitation:5},className:"sparkBubbleUi",children:t.activities.map((function(e,t){return Object(_.jsx)(kt,{activityId:t,title:e.title,thumbnail:e.thumbnail,backgroundColour:e.background_colour},t)}))})}):Object(_.jsx)(z.a,{color:"#F19820",loading:!0,css:a,size:100})):Object(_.jsx)(z.a,{color:"#F19820",loading:!0,css:a,size:100})})),Ct=a(303),It=a(300),Tt=i.a.createContext();function _t(){var e=i.a.useState(!0),t=Object(s.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){setTimeout((function(){r(!1)}),1500)}),[]);var c=Object(se.a)({palette:{type:Object(ue.a)("(prefers-color-scheme: dark)")?"dark":"light",primary:{main:"#F19820"},secondary:{main:"#CAE8FF"}},typography:{fontFamily:["F37 Ginger","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},overrides:{MuiTouchRipple:{child:{backgroundColor:"#F19820"}}}}),u=i.a.useState({text:"",severity:"",open:!1}),d=Object(s.a)(u,2),j=d[0],b=d[1],h=function(){b({open:!1})};return Object(_.jsxs)(oe.a,{theme:c,children:[Object(_.jsx)(le.a,{}),Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)("link",{rel:"shortcut icon",href:"./favicon.ico"}),Object(_.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Object(_.jsx)("header",{className:"App-header",children:Object(_.jsxs)(Tt.Provider,{value:{snackbar:j,setSnackbar:b},children:[Object(_.jsx)(Ct.a,{open:j.open,autoHideDuration:6e3,onClose:h,children:Object(_.jsx)(It.a,{onClose:h,severity:j.severity,children:j.text})}),a?Object(_.jsx)(Ne,{}):Object(_.jsxs)(o.a,{children:[Object(_.jsx)(Se,{}),Object(_.jsx)("div",{className:"AppWrapper",children:Object(_.jsxs)(l.d,{children:[Object(_.jsxs)(l.b,{exact:!0,path:"/",children:[" ",Object(_.jsx)(Qe,{})," "]}),Object(_.jsxs)(l.b,{exact:!0,path:"/activity/:activityId",children:[" ",Object(_.jsx)(gt,{})," "]}),Object(_.jsx)(A,{exact:!0,path:"/spark",component:Nt}),Object(_.jsx)(A,{exact:!0,path:"/user",component:Pe}),Object(_.jsx)(A,{exact:!0,path:"/onboarding",component:ce}),Object(_.jsx)(l.b,{exact:!0,path:"/login",component:H}),Object(_.jsx)(l.b,{exact:!0,path:"/reset",component:F}),Object(_.jsx)(l.b,{exact:!0,path:"/register",component:L}),Object(_.jsx)(l.b,{exact:!0,path:"/confirm/:token",component:q}),Object(_.jsx)(l.b,{exact:!0,path:"/reset/:token",component:B})]})}),Object(_.jsx)(ve,{})]})]})})]})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));I.a.interceptors.response.use((function(e){return e}),(function(e){return new Promise((function(t){var a=e.config,n=O();e.response&&401===e.response.status&&e.config&&!e.config.__isRetryRequest&&n&&(a._retry=!0,t(fetch(f.authRefresh,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({refresh:O})}).then((function(e){return e.json()})).then((function(e){var t=JSON.parse(localStorage.getItem("currentUser"));t.access_token=e.access_token,g.updateUser(t),window.location.reload()}))));return Promise.reject(e)}))})),c.a.render(Object(_.jsx)(J.a,{value:{fetcher:function(e){return I.a.get(e,{headers:{Authorization:"Bearer "+v()}}).then((function(e){return e.data}))}},children:Object(_.jsx)(_t,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},91:function(e,t,a){}},[[214,1,2]]]);
//# sourceMappingURL=main.6045bb80.chunk.js.map